(function(a){a.fn.slider=function(){a(this).each(function(){var h=a(this);var e=0;var k=0;var c=h.children(".container").width();var b=h.find(".slide");var i=b.outerWidth(true);var g=b.css("margin-right");g=parseInt(g.substr(0,g.length-2));var d=b.length;var f=Math.ceil(c/i);var j=Math.ceil(d/f)-1;if(j>e){h.children(".next").css("visibility","visible")}h.children(".next").click(function(){l();return false});h.children(".previous").click(function(){m();return false});var l=function(){e++;k=c*e+(e*g);h.children(".container").children(".slides").animate({marginLeft:"-"+k+"px"});if(j==e){h.children(".next").css("visibility","hidden")}if(e>=1){h.children(".previous").css("visibility","visible")}};var m=function(){var n=c+g;k=k-n;h.children(".container").children(".slides").animate({marginLeft:"-"+k+"px"});if(k<=0){h.children(".previous").css("visibility","hidden")}e--;if(j>e){h.children(".next").css("visibility","visible")}}})}})(jQuery);